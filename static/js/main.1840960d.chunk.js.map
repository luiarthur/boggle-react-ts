{"version":3,"sources":["util.ts","Die.tsx","Matrix.ts","Pair.ts","Board.ts","BoardComp.tsx","Seeder.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["GLOBAL_RNG","rng","this","seedrandom","seed","randint","a","b","Math","floor","shuffle","arr","i","length","j","isSquare","x","sqrtx","sqrt","DieComp","props","value","className","Die","faces","numFaces","idx","util","dice16","map","_","split","Matrix","rows","nrow","ncol","forEach","row","Error","f","r","c","out","push","flat","v","vec","fromArray","s","shuffled","set","get","tabulate","m","fill","elem","Array","from","Pair","y","that","diff","minus","abs","possibleMoves","Board","dice","dictionary","minLetters","dim","numDice","letters","shortDict","filter","w","roll","path","pair","join","pos","_visited","equals","move","plus","proposal","propose","visited","onBoard","dict","solution","isValidMove","sols","newPath","concat","head","chain","toUpperCase","newDict","word","startsWith","newSolution","includes","_solve","Set","allSolutions","BoardComp","board","style","marginLeft","marginRight","SolveButton","useState","setSolution","borderRadius","backgroundColor","border","onClick","solve","Seeder","seedDisplay","setSeedDisplay","setSeed","msg","setMsg","inputCss","display","reseed","background","color","padding","type","id","name","onChange","e","target","App","scrabbleDict","console","log","setLetters","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1840960d.chunk.js","sourcesContent":["import seedrandom from 'seedrandom'\n\nexport type RNG = () => number\n\nexport class AppRNG {\n  rng: RNG\n\n  constructor() {\n    this.rng = seedrandom()\n  }\n\n  reseed(seed: string) {\n    this.rng = seedrandom(seed)\n  }\n}\n\nexport const GLOBAL_RNG = new AppRNG()\nexport function reseed(seed: string) { GLOBAL_RNG.reseed(seed) }\n\nexport function randint(a: number, b: number) {\n  return Math.floor(GLOBAL_RNG.rng() * (b - a + 1)) + a\n}\n\nexport function shuffle<T>(arr: Array<T>): Array<T> {\n  for (let i = arr.length - 1; i > 0; i--) {\n    const j = Math.floor(GLOBAL_RNG.rng() * (i + 1));\n    [arr[i], arr[j]] = [arr[j], arr[i]];\n  }\n  return arr\n}\n\nexport function isSquare(x: number) {\n  let sqrtx = Math.sqrt(x)\n  return Math.floor(sqrtx) == sqrtx\n}\n\nexport function last<T>(arr: Array<T>): T {\n  return arr[arr.length - 1]\n}\n","import React from 'react';\nimport * as util from './util'\nimport './App.css'\n\ntype DieProps = { faces: string[] }\n\nexport function DieComp(props: {value: string}) {\n  let value = props.value\n  if (value.length == 1) {\n    // value = \"\\u00A0\" + value\n  }\n  return (\n    <button className=\"die\"> {value} </button>\n  )\n}\n\nexport class Die {\n  numFaces: number\n  faces: string[]\n\n  constructor(faces: string[]) {\n    this.faces = faces\n    this.numFaces = faces.length\n  }\n\n  roll() {\n    const idx = util.randint(1, this.numFaces)\n    return this.faces[idx - 1]\n  }\n}\n\nexport const dice16 = [\n  \"A,A,E,E,G,N\",\n  \"A,B,B,J,O,O\",\n  \"A,C,H,O,P,S\",\n  \"A,F,F,K,P,S\",\n  \"A,O,O,T,T,W\",\n  \"C,I,M,O,T,U\",\n  \"D,E,I,L,R,X\",\n  \"D,E,L,R,V,Y\",\n  \"D,I,S,T,T,Y\",\n  \"E,E,G,H,N,W\",\n  \"E,E,I,N,S,U\",\n  \"E,H,R,T,V,W\",\n  \"E,I,O,S,S,T\",\n  \"E,L,R,T,T,Y\",\n  \"H,I,M,N,U,Qu\",\n  \"H,L,N,N,R,Z\"].map(_ => _.split(','))\n","import * as util from './util'\n\n// Row Major\nexport class Matrix<T> {\n  nrow: number\n  ncol: number\n  rows: T[][]\n\n  static fromArray<T>(nrow: number,  ncol: number, arr: T[]) {\n    return Matrix.tabulate(nrow, ncol, (r, c) => arr[r * ncol + c])\n  }\n\n  static tabulate<T>(nrow: number,  ncol: number, f: (r:number, c:number) => T): Matrix<T> {\n    let m = Matrix.fill(nrow, ncol, f(0, 0))\n    for (let r = 0; r < nrow; r++) {\n      for (let c = 0; c < ncol; c++) {\n        m.set(r, c, f(r, c))\n      }\n    }\n    return m\n  }\n\n  static fill<T>(nrow: number,  ncol: number, elem: T) {\n    let rows = Array.from(Array(nrow), () => new Array(ncol).fill(elem));\n    return new this(rows)\n  }\n\n  constructor(rows: T[][]) {\n    this.rows = rows\n    this.nrow = rows.length\n    this.ncol = rows[0].length\n    rows.forEach(row => {\n      if (row.length != this.ncol) {\n       throw new Error(\"Number of elements is not the same in each row!\")\n      }\n    })\n  }\n\n  forEach(f: (r:number, c:number) => void) {\n    for (let r = 0; r < this.nrow; r++) {\n      for (let c = 0; c < this.ncol; c++) {\n        f(r, c)\n      }\n    }\n  }\n\n  set(r: number, c: number, value: T) {\n    (this.rows[r])[c] = value\n  }\n\n  get(r: number, c: number) {\n    return this.rows[r][c]\n  }\n\n  indices() {\n    let out:number[][] = [];\n    for (let r=0; r < this.nrow; r++) {\n      for (let c=0; c < this.ncol; c++) {\n        out.push([r, c])\n      }\n    }\n    return out\n  }\n\n  vec(): T[] {\n    return this.rows.flat();\n  }\n\n  shuffled() {\n    let v = util.shuffle(this.vec())\n    return Matrix.fromArray(this.nrow, this.ncol, v)\n  }\n\n  shuffle() {\n    let s = this.shuffled()\n    this.forEach((r, c) => {\n      this.set(r, c, s.get(r, c))\n    })\n  }\n\n  map(f: Function): Matrix<T> {\n    return Matrix.tabulate(this.nrow, this.nrow, (r, c) => f(this.get(r, c)))\n  }\n}\n","export class Pair {\n  x: number\n  y: number\n  static possibleMoves = [\n    new Pair(0, 1),\n    new Pair(1, 0),\n    new Pair(1, 1),\n    new Pair(-1, -1),\n    new Pair(0, -1),\n    new Pair(-1, 0),\n    new Pair(-1, 1),\n    new Pair(1, -1)\n  ]\n\n  constructor(x: number, y: number) {\n    this.x = x\n    this.y = y\n  }\n\n  plus(that: Pair): Pair {\n    return new Pair(this.x + that.x, this.y + that.y)\n  }\n\n  minus(that: Pair): Pair {\n    return new Pair(this.x - that.x, this.y - that.y)\n  }\n\n  isNeighbor(that: Pair, dist: number = 1) {\n    let diff = this.minus(that)\n    return Math.abs(diff.x) <= 1 && Math.abs(diff.y) <= 1\n  }\n\n  equals(that: Pair) {\n    return (this.x == that.x) && (this.y == that.y)\n  }\n }\n","import * as util from './util'\nimport { Matrix} from './Matrix'\nimport { Pair } from './Pair'\nimport { Die, DieComp } from './Die'\n\nexport class Board {\n  dice: Die[]\n  dictionary: string[]\n  minLetters: number\n  dim: number\n  numDice: number\n  letters: Matrix<string>\n  shortDict: string[]\n\n  constructor(dice: Die[], dictionary: string[], minLetters: number=3) {\n    this.dice = dice\n    this.dictionary = dictionary\n    this.minLetters = minLetters\n    this.numDice = dice.length\n    this.dim = Math.sqrt(this.numDice)\n    this.shuffle()\n    if (!util.isSquare(this.dim)) {\n      throw new Error(`number of dice is ${this.numDice} but must be a square number!`)\n    }\n    this.shortDict = this.dictionary.filter(w => w.length >= this.minLetters)\n  }\n\n  shuffle() {\n    this.letters = Matrix.fromArray(this.dim, this.dim,\n      util.shuffle(this.dice.map(_ => _.roll())))\n  }\n\n  // Connects letters from visited `path`.\n  chain(path: Pair[]): string {\n    return path.map(pair => this.letters.get(pair.x, pair.y)).join(\"\")\n  }\n\n  visited(path: Pair[], pos: Pair): boolean {\n    // return path.includes(pos)\n    let _visited = false\n    for (const pair of path) {\n      if (pair.equals(pos)) {\n        _visited = true\n        break\n      }\n    }\n    return _visited\n  }\n\n  onBoard(pos: Pair): boolean {\n    return 0 <= pos.x && pos.x < this.dim && 0 <= pos.y && pos.y < this.dim\n  }\n\n  propose(path: Pair[], move: Pair): Pair {\n    return util.last(path).plus(move)\n  }\n\n  isValidMove(path: Pair[], move: Pair): boolean {\n    let proposal = this.propose(path, move)\n    return (!this.visited(path, proposal)) && this.onBoard(proposal)\n  }\n\n  private _solve(dict: string[], path: Pair[], solution: string[]=[]): string[] {\n    if (dict.length == 0) { return solution } else {\n      // All possible moves.\n      let possibleMoves = Pair.possibleMoves.filter(move => this.isValidMove(path, move))\n\n      // Create each possible chain of letters given current path.\n      let sols = possibleMoves.map(move => {\n        let newPath = path.concat(this.propose(path, move))\n        let head = this.chain(newPath).toUpperCase()\n        let newDict = dict.filter(word => word.startsWith(head))\n        let newSolution = newDict.includes(head) ? solution.concat(head) : solution\n        return this._solve(newDict, newPath, newSolution)\n      })\n      return Array.from(new Set(sols.flat()))\n    }\n  }\n\n  solve(): string[] {\n    let allSolutions = Matrix.tabulate(this.dim, this.dim, (r, c) => {\n      // console.log(`\\r (${r}, ${c}) / (${this.dim}, ${this.dim})`)\n      return this._solve(this.shortDict, [new Pair(r, c)])\n    }).map(_ => _.flat())\n    return Array.from(new Set(allSolutions.vec().flat()))\n  }\n}\n","import React, { useState } from 'react'\nimport { Matrix } from './Matrix'\nimport { Board } from './Board'\nimport { DieComp } from './Die'\n\nexport function BoardComp(props: {board: Board}) {\n  let dim = props.board.dim\n  return (\n    <table style={{marginLeft:\"auto\", marginRight:\"auto\"}}>\n      <tbody>\n        {\n          props.board.letters.rows.map((row, r) => (\n            <tr key={r}>\n              {row.map((value, c) => (<th key={c}><DieComp value={value}/></th>))}\n            </tr>\n          ))\n        }\n      </tbody>\n    </table>\n  )\n}\n\nexport function SolveButton(props: {board: Board}) {\n  let [solution, setSolution] = useState(\"\")\n  let board = props.board\n\n  function solve() {\n    setSolution(board.solve().join(\", \"))\n  }\n\n  const css = {\n    borderRadius: \"25px\",\n    backgroundColor: \"pink\",\n    border: \"none\"\n  }\n\n  return (\n    <div>\n      <button style={css} onClick={solve}> Show / Hide Solution </button>\n      <br/> <br/>\n      <p> {solution} </p>\n    </div>\n  )\n}\n","import React, {useState} from 'react'\nimport * as util from './util'\n\nexport function Seeder() {\n  let [seedDisplay, setSeedDisplay] = useState(\"none\")\n  let [seed, setSeed] = useState(\"\")\n  let [msg, setMsg] = useState(\"Enter seed\")\n\n  function toggleSeedDisplay() {\n    if (seedDisplay == \"none\") {\n      setSeedDisplay(\"inline\")\n      setMsg(\"Enter seed\")\n    } else {\n      setSeedDisplay(\"none\")\n      if (seed > \"\") {\n        util.reseed(seed) // submit seed\n        setMsg(\"Using seed: \" + seed)\n      }\n    }\n  }\n\n  function setGlobalSeed(e) {\n    setSeed(e.target.value)\n  }\n\n  let toggleCss = {\n    borderRadius: \"10px\",\n    background: \"CornflowerBlue\",\n    color: \"white\",\n    padding: \"3px\",\n    marginRight: \"10px\"\n  }\n\n  let inputCss = {\n    display: seedDisplay,\n    borderRadius: \"10px\",\n    border: \"1px solid CornflowerBlue\"\n  }\n\n  return (\n    <form>\n      <label onClick={toggleSeedDisplay} style={toggleCss}> {msg} </label>\n      <input type=\"text\" id=\"rngSeed\" name=\"rngSeed\"\n             onChange={setGlobalSeed}\n             style={inputCss} />\n    </form>\n  )\n}\n","import React, {useState} from 'react';\nimport logo from './logo.svg';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './App.css';\nimport { Die, dice16, DieComp } from './Die'\n// import { scrabbleDict } from './scrabble-dict'\nimport { Pair } from './Pair'\nimport { Board } from './Board'\nimport { BoardComp, SolveButton } from './BoardComp'\nimport * as util from './util'\nimport $ from 'jquery'\nimport {Seeder} from './Seeder'\nimport * as scrabbleDict from './scrabble-dict.json'\n\nfunction App() {\n  const dict = scrabbleDict.scrabbleDict\n  console.log(dict.length)\n  const dice = dice16.map(faces => new Die(faces))\n\n  const board = new Board(dice, dict, 3)\n  console.log(board.letters.rows.flat())\n\n  const shuffleStyle = {\n    borderRadius: \"25px\",\n    border: \"none\",\n    background: \"darkgrey\"\n  }\n\n  let [letters, setLetters] = useState(board.letters)\n\n  function shakeBoard(e) {\n    board.shuffle()\n    setLetters(board.letters)\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>WIP</h1>\n      </header>\n\n      <br/> <button onClick={shakeBoard} style={shuffleStyle}> Shuffle </button> <br/> \n      <br/> <Seeder/> <br/>\n\n      {/* <br/> {dieComps} <br/> */}\n      <BoardComp board={board} />\n      <br/> <SolveButton board={board} /> <br/>\n\n\n      {console.log(\"sanity check: \" + dict[util.randint(0, dict.length - 1)])}\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}