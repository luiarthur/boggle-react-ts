{"version":3,"sources":["util.ts","Die.tsx","Matrix.ts","Pair.ts","Board.ts","BoardComp.tsx","Seeder.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["GLOBAL_RNG","rng","this","seedrandom","seed","shuffle","arr","i","length","j","Math","floor","isSquare","x","sqrtx","sqrt","DieComp","props","value","className","Die","faces","numFaces","a","b","idx","dice16","map","_","split","Matrix","rows","nrow","ncol","forEach","row","Error","f","r","c","out","push","flat","v","util","vec","fromArray","s","shuffled","set","get","tabulate","m","fill","elem","Array","from","Pair","y","that","diff","minus","abs","possibleMoves","Board","dice","dictionary","minLetters","dim","numDice","letters","shortDict","filter","w","roll","path","pair","join","pos","_visited","equals","move","plus","proposal","propose","visited","onBoard","dict","solution","isValidMove","sols","newPath","concat","head","chain","toUpperCase","newDict","word","startsWith","newSolution","includes","_solve","Set","allSolutions","BoardComp","board","style","marginLeft","marginRight","SolveButton","borderRadius","backgroundColor","border","onClick","generateSolution","display","solViz","Seeder","useState","seedDisplay","setSeedDisplay","setSeed","msg","setMsg","inputCss","reseed","background","color","padding","type","id","name","onChange","e","target","App","scrabbleDict","setBoard","setSolution","setNumWords","isSolved","setIsSolved","setLetters","setSolViz","solutionArray","solve","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4ab3143a.chunk.js","sourcesContent":["import seedrandom from 'seedrandom'\n\nexport type RNG = () => number\n\nexport class AppRNG {\n  rng: RNG\n\n  constructor() {\n    this.rng = seedrandom()\n  }\n\n  reseed(seed: string) {\n    this.rng = seedrandom(seed)\n  }\n}\n\nexport const GLOBAL_RNG = new AppRNG()\nexport function reseed(seed: string) { GLOBAL_RNG.reseed(seed) }\n\nexport function randint(a: number, b: number) {\n  return Math.floor(GLOBAL_RNG.rng() * (b - a + 1)) + a\n}\n\nexport function shuffle<T>(arr: Array<T>): Array<T> {\n  for (let i = arr.length - 1; i > 0; i--) {\n    const j = Math.floor(GLOBAL_RNG.rng() * (i + 1));\n    [arr[i], arr[j]] = [arr[j], arr[i]];\n  }\n  return arr\n}\n\nexport function isSquare(x: number) {\n  let sqrtx = Math.sqrt(x)\n  return Math.floor(sqrtx) == sqrtx\n}\n\nexport function last<T>(arr: Array<T>): T {\n  return arr[arr.length - 1]\n}\n","import React from 'react';\nimport * as util from './util'\nimport './App.css'\n\ntype DieProps = { faces: string[] }\n\nexport function DieComp(props: {value: string}) {\n  let value = props.value\n  if (value.length == 1) {\n    // value = \"\\u00A0\" + value\n  }\n  return (\n    <button className=\"die\"> {value} </button>\n  )\n}\n\nexport class Die {\n  numFaces: number\n  faces: string[]\n\n  constructor(faces: string[]) {\n    this.faces = faces\n    this.numFaces = faces.length\n  }\n\n  roll() {\n    const idx = util.randint(1, this.numFaces)\n    return this.faces[idx - 1]\n  }\n}\n\nexport const dice16 = [\n  \"A,A,E,E,G,N\",\n  \"A,B,B,J,O,O\",\n  \"A,C,H,O,P,S\",\n  \"A,F,F,K,P,S\",\n  \"A,O,O,T,T,W\",\n  \"C,I,M,O,T,U\",\n  \"D,E,I,L,R,X\",\n  \"D,E,L,R,V,Y\",\n  \"D,I,S,T,T,Y\",\n  \"E,E,G,H,N,W\",\n  \"E,E,I,N,S,U\",\n  \"E,H,R,T,V,W\",\n  \"E,I,O,S,S,T\",\n  \"E,L,R,T,T,Y\",\n  \"H,I,M,N,U,Qu\",\n  \"H,L,N,N,R,Z\"].map(_ => _.split(','))\n","import * as util from './util'\n\n// Row Major\nexport class Matrix<T> {\n  nrow: number\n  ncol: number\n  rows: T[][]\n\n  static fromArray<T>(nrow: number,  ncol: number, arr: T[]) {\n    return Matrix.tabulate(nrow, ncol, (r, c) => arr[r * ncol + c])\n  }\n\n  static tabulate<T>(nrow: number,  ncol: number, f: (r:number, c:number) => T): Matrix<T> {\n    let m = Matrix.fill(nrow, ncol, f(0, 0))\n    for (let r = 0; r < nrow; r++) {\n      for (let c = 0; c < ncol; c++) {\n        m.set(r, c, f(r, c))\n      }\n    }\n    return m\n  }\n\n  static fill<T>(nrow: number,  ncol: number, elem: T) {\n    let rows = Array.from(Array(nrow), () => new Array(ncol).fill(elem));\n    return new this(rows)\n  }\n\n  constructor(rows: T[][]) {\n    this.rows = rows\n    this.nrow = rows.length\n    this.ncol = rows[0].length\n    rows.forEach(row => {\n      if (row.length != this.ncol) {\n       throw new Error(\"Number of elements is not the same in each row!\")\n      }\n    })\n  }\n\n  forEach(f: (r:number, c:number) => void) {\n    for (let r = 0; r < this.nrow; r++) {\n      for (let c = 0; c < this.ncol; c++) {\n        f(r, c)\n      }\n    }\n  }\n\n  set(r: number, c: number, value: T) {\n    (this.rows[r])[c] = value\n  }\n\n  get(r: number, c: number) {\n    return this.rows[r][c]\n  }\n\n  indices() {\n    let out:number[][] = [];\n    for (let r=0; r < this.nrow; r++) {\n      for (let c=0; c < this.ncol; c++) {\n        out.push([r, c])\n      }\n    }\n    return out\n  }\n\n  vec(): T[] {\n    return this.rows.flat();\n  }\n\n  shuffled() {\n    let v = util.shuffle(this.vec())\n    return Matrix.fromArray(this.nrow, this.ncol, v)\n  }\n\n  shuffle() {\n    let s = this.shuffled()\n    this.forEach((r, c) => {\n      this.set(r, c, s.get(r, c))\n    })\n  }\n\n  map(f: Function): Matrix<T> {\n    return Matrix.tabulate(this.nrow, this.nrow, (r, c) => f(this.get(r, c)))\n  }\n}\n","export class Pair {\n  x: number\n  y: number\n  static possibleMoves = [\n    new Pair(0, 1),\n    new Pair(1, 0),\n    new Pair(1, 1),\n    new Pair(-1, -1),\n    new Pair(0, -1),\n    new Pair(-1, 0),\n    new Pair(-1, 1),\n    new Pair(1, -1)\n  ]\n\n  constructor(x: number, y: number) {\n    this.x = x\n    this.y = y\n  }\n\n  plus(that: Pair): Pair {\n    return new Pair(this.x + that.x, this.y + that.y)\n  }\n\n  minus(that: Pair): Pair {\n    return new Pair(this.x - that.x, this.y - that.y)\n  }\n\n  isNeighbor(that: Pair, dist: number = 1) {\n    let diff = this.minus(that)\n    return Math.abs(diff.x) <= 1 && Math.abs(diff.y) <= 1\n  }\n\n  equals(that: Pair) {\n    return (this.x == that.x) && (this.y == that.y)\n  }\n }\n","import * as util from './util'\nimport { Matrix} from './Matrix'\nimport { Pair } from './Pair'\nimport { Die, DieComp } from './Die'\n\nexport class Board {\n  dice: Die[]\n  dictionary: string[]\n  minLetters: number\n  dim: number\n  numDice: number\n  letters: Matrix<string>\n  shortDict: string[]\n\n  constructor(dice: Die[], dictionary: string[], minLetters: number=3) {\n    this.dice = dice\n    this.dictionary = dictionary\n    this.minLetters = minLetters\n    this.numDice = dice.length\n    this.dim = Math.sqrt(this.numDice)\n    this.shuffle()\n    if (!util.isSquare(this.dim)) {\n      throw new Error(`number of dice is ${this.numDice} but must be a square number!`)\n    }\n    this.shortDict = this.dictionary.filter(w => w.length >= this.minLetters)\n  }\n\n  shuffle() {\n    this.letters = Matrix.fromArray(this.dim, this.dim,\n      util.shuffle(this.dice.map(_ => _.roll())))\n  }\n\n  // Connects letters from visited `path`.\n  chain(path: Pair[]): string {\n    return path.map(pair => this.letters.get(pair.x, pair.y)).join(\"\")\n  }\n\n  visited(path: Pair[], pos: Pair): boolean {\n    // return path.includes(pos)\n    let _visited = false\n    for (const pair of path) {\n      if (pair.equals(pos)) {\n        _visited = true\n        break\n      }\n    }\n    return _visited\n  }\n\n  onBoard(pos: Pair): boolean {\n    return 0 <= pos.x && pos.x < this.dim && 0 <= pos.y && pos.y < this.dim\n  }\n\n  propose(path: Pair[], move: Pair): Pair {\n    return util.last(path).plus(move)\n  }\n\n  isValidMove(path: Pair[], move: Pair): boolean {\n    let proposal = this.propose(path, move)\n    return (!this.visited(path, proposal)) && this.onBoard(proposal)\n  }\n\n  private _solve(dict: string[], path: Pair[], solution: string[]=[]): string[] {\n    if (dict.length == 0) { return solution } else {\n      // All possible moves.\n      let possibleMoves = Pair.possibleMoves.filter(move => this.isValidMove(path, move))\n\n      // Create each possible chain of letters given current path.\n      let sols = possibleMoves.map(move => {\n        let newPath = path.concat(this.propose(path, move))\n        let head = this.chain(newPath).toUpperCase()\n        let newDict = dict.filter(word => word.startsWith(head))\n        let newSolution = newDict.includes(head) ? solution.concat(head) : solution\n        return this._solve(newDict, newPath, newSolution)\n      })\n      return Array.from(new Set(sols.flat()))\n    }\n  }\n\n  solve(): string[] {\n    let allSolutions = Matrix.tabulate(this.dim, this.dim, (r, c) => {\n      // console.log(`\\r (${r}, ${c}) / (${this.dim}, ${this.dim})`)\n      return this._solve(this.shortDict, [new Pair(r, c)])\n    }).map(_ => _.flat())\n    return Array.from(new Set(allSolutions.vec().flat()))\n  }\n}\n","import React, { useState } from 'react'\nimport { Matrix } from './Matrix'\nimport { Board } from './Board'\nimport { DieComp } from './Die'\n\nexport function BoardComp(props: {board: Board}) {\n  let dim = props.board.dim\n  return (\n    <table style={{marginLeft:\"auto\", marginRight:\"auto\"}}>\n      <tbody>\n        {\n          props.board.letters.rows.map((row, r) => (\n            <tr key={r}>\n              {row.map((value, c) => (<th key={c}><DieComp value={value}/></th>))}\n            </tr>\n          ))\n        }\n      </tbody>\n    </table>\n  )\n}\n\nexport function SolveButton(props: {generateSolution: () => void, solution: string, isSolved: boolean,\n                            solViz: boolean}) {\n  const css = {\n    borderRadius: \"5px\",\n    backgroundColor: \"lightgreen\",\n    border: \"none\"\n  }\n\n  return (\n    <div>\n      <button style={css} onClick={props.generateSolution}> Show / Hide Solution </button>\n      <br/><br/> \n      <p style={{display: props.solViz ? \"inline\" : \"none\"}}> {props.solution} </p>\n    </div>\n  )\n}\n","import React, {useState} from 'react'\nimport * as util from './util'\n\n// TODO: Refactor -- move states out into `App`. On boardShuffle, hide seed.\nexport function Seeder() {\n  let [seedDisplay, setSeedDisplay] = useState(\"none\")\n  let [seed, setSeed] = useState(\"\")\n  let [msg, setMsg] = useState(\"Enter seed\")\n\n  function toggleSeedDisplay() {\n    if (seedDisplay == \"none\") {\n      setSeedDisplay(\"inline\")\n      setMsg(\"Enter seed\")\n    } else {\n      setSeedDisplay(\"none\")\n      if (seed > \"\") {\n        util.reseed(seed) // submit seed\n        setMsg(\"Using seed: \" + seed)\n      }\n    }\n  }\n\n  function setGlobalSeed(e) {\n    setSeed(e.target.value)\n  }\n\n  let toggleCss = {\n    borderRadius: \"5px\",\n    background: \"CornflowerBlue\",\n    color: \"white\",\n    padding: \"3px\",\n    marginRight: \"10px\"\n  }\n\n  let inputCss = {\n    display: seedDisplay,\n    borderRadius: \"5px\",\n    border: \"1px solid CornflowerBlue\"\n  }\n\n  return (\n    <form>\n      <label onClick={toggleSeedDisplay} style={toggleCss}> {msg} </label>\n      <input type=\"text\" id=\"rngSeed\" name=\"rngSeed\"\n             onChange={setGlobalSeed}\n             style={inputCss} />\n    </form>\n  )\n}\n","import React, {useState} from 'react';\nimport logo from './logo.svg';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './App.css';\nimport { Die, dice16, DieComp } from './Die'\n// import { scrabbleDict } from './scrabble-dict'\nimport { Pair } from './Pair'\nimport { Board } from './Board'\nimport { BoardComp, SolveButton } from './BoardComp'\nimport * as util from './util'\nimport $ from 'jquery'\nimport {Seeder} from './Seeder'\nimport * as scrabbleDict from './scrabble-dict.json'\n\nfunction App() {\n  const dict = scrabbleDict.scrabbleDict\n  const dice = dice16.map(faces => new Die(faces))\n  const minLetters = 3\n\n  const [board, setBoard] = useState(new Board(dice, dict, minLetters))\n  const [solution, setSolution] = useState(\"\")\n  const [numWords, setNumWords] = useState(0)\n  const [isSolved, setIsSolved] = useState(false)\n\n  const shuffleStyle = {\n    borderRadius: \"5px\",\n    border: \"none\",\n    background: \"pink\"\n  }\n\n  let [letters, setLetters] = useState(board.letters)\n  let [solViz, setSolViz] = useState(false)\n\n  function shakeBoard() {\n    setBoard(new Board(dice, dict, minLetters))\n    setLetters(board.letters)\n    setIsSolved(false)\n    setSolViz(false)\n    setSolution(\"\")\n  }\n\n  function generateSolution() {\n    if (!isSolved) {\n      const solutionArray = board.solve()\n      setNumWords(solutionArray.length)\n      setSolution(solutionArray.join(\", \"))\n      setIsSolved(true)\n      setSolViz(true)\n    } else {\n      setSolViz(!solViz)\n    }\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Boggle</h1>\n      </header>\n\n      <br/>\n      <Seeder/>\n      <br/>\n      <button onClick={shakeBoard} style={shuffleStyle}> Shuffle </button>\n      <br/>\n      <br/>\n\n      {/* <br/> {dieComps} <br/> */}\n      <BoardComp board={board} />\n      <br/> \n        <SolveButton generateSolution={generateSolution} solution={solution} \n          isSolved={isSolved} solViz={solViz} /> \n        <br/>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}