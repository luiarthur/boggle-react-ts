{"version":3,"sources":["util.ts","Die.tsx","Matrix.ts","Pair.ts","Board.ts","BoardComp.tsx","Seeder.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["GLOBAL_RNG","rng","this","seedrandom","seed","reseed","shuffle","arr","i","length","j","Math","floor","isSquare","x","sqrtx","sqrt","DieComp","props","value","className","Die","faces","numFaces","a","b","idx","dice16","map","_","split","Matrix","rows","nrow","ncol","forEach","row","Error","f","r","c","out","push","flat","v","util","vec","fromArray","s","shuffled","set","get","tabulate","m","fill","elem","Array","from","Pair","y","that","diff","minus","abs","possibleMoves","Board","dice","dictionary","minLetters","dim","numDice","letters","shortDict","filter","w","roll","path","pair","join","pos","_visited","equals","move","plus","proposal","propose","visited","onBoard","dict","solution","isValidMove","sols","newPath","concat","head","chain","toUpperCase","newDict","word","startsWith","newSolution","includes","_solve","Set","allSolutions","sort","BoardComp","board","style","marginLeft","marginRight","SolveButton","borderRadius","backgroundColor","color","border","onClick","generateSolution","display","solViz","Seeder","e","target","random","toString","showSeeder","seedViz","type","onChange","autoFocus","App","scrabbleDict","useState","setSeedViz","setBoard","setSolution","setNumWords","isSolved","setIsSolved","setLetters","setSolViz","background","margin","solutionArray","solve","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mruhEAgBaA,EAAa,IAZ1B,WAGE,aAAe,yBAFfC,SAEc,EACZC,KAAKD,IAAME,MAJf,0CAOE,SAAOC,GACLF,KAAKD,IAAME,IAAWC,OAR1B,MAaO,SAASC,EAAOD,GAAgBJ,EAAWK,OAAOD,GAMlD,SAASE,EAAWC,GACzB,IAAK,IAAIC,EAAID,EAAIE,OAAS,EAAGD,EAAI,EAAGA,IAAK,CACvC,IAAME,EAAIC,KAAKC,MAAMZ,EAAWC,OAASO,EAAI,IADN,EAEpB,CAACD,EAAIG,GAAIH,EAAIC,IAA/BD,EAAIC,GAFkC,KAE9BD,EAAIG,GAF0B,KAIzC,OAAOH,EAGF,SAASM,EAASC,GACvB,IAAIC,EAAQJ,KAAKK,KAAKF,GACtB,OAAOH,KAAKC,MAAMG,IAAUA,E,WC3BvB,SAASE,EAAQC,GACtB,IAAIC,EAAQD,EAAMC,MAIlB,OAHIA,EAAMV,OAIR,yBAAQW,UAAU,MAAlB,cAA0BD,EAA1B,OAIG,IAAME,EAAb,WAIE,WAAYC,GAAkB,yBAH9BC,cAG6B,OAF7BD,WAE6B,EAC3BpB,KAAKoB,MAAQA,EACbpB,KAAKqB,SAAWD,EAAMb,OAN1B,wCASE,WACE,IDPoBe,EAAWC,ECOzBC,GDPcF,ECOK,EDPMC,ECOHvB,KAAKqB,SDN5BZ,KAAKC,MAAMZ,EAAWC,OAASwB,EAAID,EAAI,IAAMA,GCOlD,OAAOtB,KAAKoB,MAAMI,EAAM,OAX5B,KAeaC,EAAS,CACpB,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,eACA,eAAeC,KAAI,SAAAC,GAAC,OAAIA,EAAEC,MAAM,Q,QC5CrBC,EAAb,WAwBE,WAAYC,GAAc,IAAD,gCAvBzBC,UAuByB,OAtBzBC,UAsByB,OArBzBF,UAqByB,EACvB9B,KAAK8B,KAAOA,EACZ9B,KAAK+B,KAAOD,EAAKvB,OACjBP,KAAKgC,KAAOF,EAAK,GAAGvB,OACpBuB,EAAKG,SAAQ,SAAAC,GACX,GAAIA,EAAI3B,QAAU,EAAKyB,KACtB,MAAM,IAAIG,MAAM,sDA9BvB,2CAmCE,SAAQC,GACN,IAAK,IAAIC,EAAI,EAAGA,EAAIrC,KAAK+B,KAAMM,IAC7B,IAAK,IAAIC,EAAI,EAAGA,EAAItC,KAAKgC,KAAMM,IAC7BF,EAAEC,EAAGC,KAtCb,iBA2CE,SAAID,EAAWC,EAAWrB,GACvBjB,KAAK8B,KAAKO,GAAIC,GAAKrB,IA5CxB,iBA+CE,SAAIoB,EAAWC,GACb,OAAOtC,KAAK8B,KAAKO,GAAGC,KAhDxB,qBAmDE,WAEE,IADA,IAAIC,EAAiB,GACZF,EAAE,EAAGA,EAAIrC,KAAK+B,KAAMM,IAC3B,IAAK,IAAIC,EAAE,EAAGA,EAAItC,KAAKgC,KAAMM,IAC3BC,EAAIC,KAAK,CAACH,EAAGC,IAGjB,OAAOC,IA1DX,iBA6DE,WACE,OAAOvC,KAAK8B,KAAKW,SA9DrB,sBAiEE,WACE,IAAIC,EAAIC,EAAa3C,KAAK4C,OAC1B,OAAOf,EAAOgB,UAAU7C,KAAK+B,KAAM/B,KAAKgC,KAAMU,KAnElD,qBAsEE,WAAW,IAAD,OACJI,EAAI9C,KAAK+C,WACb/C,KAAKiC,SAAQ,SAACI,EAAGC,GACf,EAAKU,IAAIX,EAAGC,EAAGQ,EAAEG,IAAIZ,EAAGC,SAzE9B,iBA6EE,SAAIF,GAAyB,IAAD,OAC1B,OAAOP,EAAOqB,SAASlD,KAAK+B,KAAM/B,KAAK+B,MAAM,SAACM,EAAGC,GAAJ,OAAUF,EAAE,EAAKa,IAAIZ,EAAGC,UA9EzE,wBAKE,SAAoBP,EAAeC,EAAc3B,GAC/C,OAAOwB,EAAOqB,SAASnB,EAAMC,GAAM,SAACK,EAAGC,GAAJ,OAAUjC,EAAIgC,EAAIL,EAAOM,QANhE,sBASE,SAAmBP,EAAeC,EAAcI,GAE9C,IADA,IAAIe,EAAItB,EAAOuB,KAAKrB,EAAMC,EAAMI,EAAE,EAAG,IAC5BC,EAAI,EAAGA,EAAIN,EAAMM,IACxB,IAAK,IAAIC,EAAI,EAAGA,EAAIN,EAAMM,IACxBa,EAAEH,IAAIX,EAAGC,EAAGF,EAAEC,EAAGC,IAGrB,OAAOa,IAhBX,kBAmBE,SAAepB,EAAeC,EAAcqB,GAE1C,OAAO,IAAIrD,KADAsD,MAAMC,KAAKD,MAAMvB,IAAO,kBAAM,IAAIuB,MAAMtB,GAAMoB,KAAKC,WApBlE,KCHaG,EAAb,WAcE,WAAY5C,EAAW6C,GAAY,yBAbnC7C,OAakC,OAZlC6C,OAYkC,EAChCzD,KAAKY,EAAIA,EACTZ,KAAKyD,EAAIA,EAhBb,wCAmBE,SAAKC,GACH,OAAO,IAAIF,EAAKxD,KAAKY,EAAI8C,EAAK9C,EAAGZ,KAAKyD,EAAIC,EAAKD,KApBnD,mBAuBE,SAAMC,GACJ,OAAO,IAAIF,EAAKxD,KAAKY,EAAI8C,EAAK9C,EAAGZ,KAAKyD,EAAIC,EAAKD,KAxBnD,wBA2BE,SAAWC,GAA+B,IACpCC,EAAO3D,KAAK4D,MAAMF,GACtB,OAAOjD,KAAKoD,IAAIF,EAAK/C,IAAM,GAAKH,KAAKoD,IAAIF,EAAKF,IAAM,IA7BxD,oBAgCE,SAAOC,GACL,OAAQ1D,KAAKY,GAAK8C,EAAK9C,GAAOZ,KAAKyD,GAAKC,EAAKD,MAjCjD,KAAaD,EAGJM,cAAgB,CACrB,IAAIN,EAAK,EAAG,GACZ,IAAIA,EAAK,EAAG,GACZ,IAAIA,EAAK,EAAG,GACZ,IAAIA,GAAM,GAAI,GACd,IAAIA,EAAK,GAAI,GACb,IAAIA,GAAM,EAAG,GACb,IAAIA,GAAM,EAAG,GACb,IAAIA,EAAK,GAAI,ICNV,IAAMO,EAAb,WASE,WAAYC,EAAaC,GAA6C,IAAD,OAAtBC,EAAsB,uDAAH,EAOhE,GAPmE,yBARrEF,UAQqE,OAPrEC,gBAOqE,OANrEC,gBAMqE,OALrEC,SAKqE,OAJrEC,aAIqE,OAHrEC,aAGqE,OAFrEC,eAEqE,EACnEtE,KAAKgE,KAAOA,EACZhE,KAAKiE,WAAaA,EAClBjE,KAAKkE,WAAaA,EAClBlE,KAAKoE,QAAUJ,EAAKzD,OACpBP,KAAKmE,IAAM1D,KAAKK,KAAKd,KAAKoE,SAC1BpE,KAAKI,WACAuC,EAAc3C,KAAKmE,KACtB,MAAM,IAAIhC,MAAJ,4BAA+BnC,KAAKoE,QAApC,kCAERpE,KAAKsE,UAAYtE,KAAKiE,WAAWM,QAAO,SAAAC,GAAC,OAAIA,EAAEjE,QAAU,EAAK2D,cAnBlE,2CAsBE,WACElE,KAAKqE,QAAUxC,EAAOgB,UAAU7C,KAAKmE,IAAKnE,KAAKmE,IAC7CxB,EAAa3C,KAAKgE,KAAKtC,KAAI,SAAAC,GAAC,OAAIA,EAAE8C,cAxBxC,mBA4BE,SAAMC,GAAuB,IAAD,OAC1B,OAAOA,EAAKhD,KAAI,SAAAiD,GAAI,OAAI,EAAKN,QAAQpB,IAAI0B,EAAK/D,EAAG+D,EAAKlB,MAAImB,KAAK,MA7BnE,qBAgCE,SAAQF,EAAcG,GAEpB,IAFwC,EAEpCC,GAAW,EAFyB,cAGrBJ,GAHqB,IAGxC,2BAAyB,CACvB,GADuB,QACdK,OAAOF,GAAM,CACpBC,GAAW,EACX,QANoC,8BASxC,OAAOA,IAzCX,qBA4CE,SAAQD,GACN,OAAO,GAAKA,EAAIjE,GAAKiE,EAAIjE,EAAIZ,KAAKmE,KAAO,GAAKU,EAAIpB,GAAKoB,EAAIpB,EAAIzD,KAAKmE,MA7CxE,qBAgDE,SAAQO,EAAcM,GACpB,OJlBoB3E,EIkBHqE,EJjBZrE,EAAIA,EAAIE,OAAS,IIiBC0E,KAAKD,GJlBzB,IAAiB3E,II/BxB,yBAoDE,SAAYqE,EAAcM,GACxB,IAAIE,EAAWlF,KAAKmF,QAAQT,EAAMM,GAClC,OAAShF,KAAKoF,QAAQV,EAAMQ,IAAclF,KAAKqF,QAAQH,KAtD3D,oBAyDE,SAAeI,EAAgBZ,GAAgD,IAAD,OAAjCa,EAAiC,uDAAd,GAC9D,GAAmB,GAAfD,EAAK/E,OAAe,OAAOgF,EAE7B,IAAIzB,EAAgBN,EAAKM,cAAcS,QAAO,SAAAS,GAAI,OAAI,EAAKQ,YAAYd,EAAMM,MAGzES,EAAO3B,EAAcpC,KAAI,SAAAsD,GAC3B,IAAIU,EAAUhB,EAAKiB,OAAO,EAAKR,QAAQT,EAAMM,IACzCY,EAAO,EAAKC,MAAMH,GAASI,cAC3BC,EAAUT,EAAKf,QAAO,SAAAyB,GAAI,OAAIA,EAAKC,WAAWL,MAC9CM,EAAcH,EAAQI,SAASP,GAAQL,EAASI,OAAOC,GAAQL,EACnE,OAAO,EAAKa,OAAOL,EAASL,EAASQ,MAEvC,OAAO5C,MAAMC,KAAK,IAAI8C,IAAIZ,EAAKhD,WAtErC,mBA0EE,WAAmB,IAAD,OACZ6D,EAAezE,EAAOqB,SAASlD,KAAKmE,IAAKnE,KAAKmE,KAAK,SAAC9B,EAAGC,GAEzD,OAAO,EAAK8D,OAAO,EAAK9B,UAAW,CAAC,IAAId,EAAKnB,EAAGC,QAC/CZ,KAAI,SAAAC,GAAC,OAAIA,EAAEc,UAEd,OADUa,MAAMC,KAAK,IAAI8C,IAAIC,EAAa1D,MAAMH,SACrC8D,OAAOA,MAAK,SAACjF,EAAGC,GAAJ,OAAUD,EAAEf,OAASgB,EAAEhB,cAhFlD,KCAO,SAASiG,EAAUxF,GACdA,EAAMyF,MAAMtC,IACtB,OACE,uBAAOuC,MAAO,CAACC,WAAW,OAAQC,YAAY,QAA9C,SACE,gCAEI5F,EAAMyF,MAAMpC,QAAQvC,KAAKJ,KAAI,SAACQ,EAAKG,GAAN,OAC3B,6BACGH,EAAIR,KAAI,SAACT,EAAOqB,GAAR,OAAe,6BAAY,cAACvB,EAAD,CAASE,MAAOA,KAAnBqB,OAD1BD,UAUd,SAASwE,EAAY7F,GAS1B,OACE,gCACE,wBAAQ0F,MATA,CACVI,aAAc,MACdC,gBAAiB,iBACjBC,MAAO,QACPC,OAAQ,QAKcC,QAASlG,EAAMmG,iBAAnC,oCACA,uBAAK,uBACL,oBAAGT,MAAO,CAACU,QAASpG,EAAMqG,OAAS,SAAW,QAA9C,cAAyDrG,EAAMuE,SAA/D,UC/BC,SAAS+B,EAAOtG,GAErB,SAASb,EAAOoH,GACd,IAAMtG,EAAQsG,EAAEC,OAAOvG,MAErB0B,EADW,IAAT1B,EACUR,KAAKgH,SAASC,WAEdzG,GAYhB,OACE,wBAAQC,UAAU,aAAagG,QAASlG,EAAM2G,WAA9C,SARI3G,EAAM4G,QACA,uBAAOC,KAAK,OAAOC,SAAU3H,EAAQ4H,WAAS,IAE9C,4C,YC0DCC,MA/Df,WACE,IAAM1C,EAAO2C,IACPjE,EAAOvC,EAAOC,KAAI,SAAAN,GAAK,OAAI,IAAID,EAAIC,MAF5B,EAKiB8G,oBAAS,GAL1B,mBAKNN,EALM,KAKGO,EALH,OAMaD,mBAAS,IAAInE,EAAMC,EAAMsB,EAHhC,IAHN,mBAMNmB,EANM,KAMC2B,EAND,OAOmBF,mBAAS,IAP5B,mBAON3C,EAPM,KAOI8C,EAPJ,OAQmBH,mBAAS,GAR5B,mBAQII,GARJ,aASmBJ,oBAAS,GAT5B,mBASNK,EATM,KASIC,EATJ,OAmBeN,mBAASzB,EAAMpC,SAnB9B,mBAmBCoE,GAnBD,aAoBaP,oBAAS,GApBtB,mBAoBRb,EApBQ,KAoBAqB,EApBA,KA+Cb,OACE,sBAAKxH,UAAU,MAAf,UACE,cAACoG,EAAD,CAAQM,QAASA,EAASD,WAN9B,WACEQ,GAAW,MAOT,wBAAQjB,QA7BZ,WACEkB,EAAS,IAAIrE,EAAMC,EAAMsB,EApBR,IAqBjBmD,EAAWhC,EAAMpC,SACjBmE,GAAY,GACZE,GAAU,GACVL,EAAY,IACZF,GAAW,IAuBoBzB,MAxCZ,CACnBI,aAAc,MACdG,OAAQ,OACRD,MAAO,QACP2B,WAAY,iBACZC,OAAQ,QAmCN,uBAGA,cAACpC,EAAD,CAAWC,MAAOA,IAClB,uBACE,cAACI,EAAD,CAAaM,iBAzBnB,WACE,GAAKoB,EAOHG,GAAWrB,OAPE,CACb,IAAMwB,EAAgBpC,EAAMqC,QAC5BR,EAAYO,EAActI,QAC1B8H,EAAYQ,EAAcjE,KAAK,OAC/B4D,GAAY,GACZE,GAAU,KAmByCnD,SAAUA,EACzDgD,SAAUA,EAAUlB,OAAQA,IAC9B,2BC1DO0B,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.5297cff0.chunk.js","sourcesContent":["import seedrandom from 'seedrandom'\n\nexport type RNG = () => number\n\nexport class AppRNG {\n  rng: RNG\n\n  constructor() {\n    this.rng = seedrandom()\n  }\n\n  reseed(seed: string) {\n    this.rng = seedrandom(seed)\n  }\n}\n\nexport const GLOBAL_RNG = new AppRNG()\nexport function reseed(seed: string) { GLOBAL_RNG.reseed(seed) }\n\nexport function randint(a: number, b: number) {\n  return Math.floor(GLOBAL_RNG.rng() * (b - a + 1)) + a\n}\n\nexport function shuffle<T>(arr: Array<T>): Array<T> {\n  for (let i = arr.length - 1; i > 0; i--) {\n    const j = Math.floor(GLOBAL_RNG.rng() * (i + 1));\n    [arr[i], arr[j]] = [arr[j], arr[i]];\n  }\n  return arr\n}\n\nexport function isSquare(x: number) {\n  let sqrtx = Math.sqrt(x)\n  return Math.floor(sqrtx) == sqrtx\n}\n\nexport function last<T>(arr: Array<T>): T {\n  return arr[arr.length - 1]\n}\n","import React from 'react';\nimport * as util from './util'\nimport './App.css'\n\ntype DieProps = { faces: string[] }\n\nexport function DieComp(props: {value: string}) {\n  let value = props.value\n  if (value.length == 1) {\n    // value = \"\\u00A0\" + value\n  }\n  return (\n    <button className=\"die\"> {value} </button>\n  )\n}\n\nexport class Die {\n  numFaces: number\n  faces: string[]\n\n  constructor(faces: string[]) {\n    this.faces = faces\n    this.numFaces = faces.length\n  }\n\n  roll() {\n    const idx = util.randint(1, this.numFaces)\n    return this.faces[idx - 1]\n  }\n}\n\nexport const dice16 = [\n  \"A,A,E,E,G,N\",\n  \"A,B,B,J,O,O\",\n  \"A,C,H,O,P,S\",\n  \"A,F,F,K,P,S\",\n  \"A,O,O,T,T,W\",\n  \"C,I,M,O,T,U\",\n  \"D,E,I,L,R,X\",\n  \"D,E,L,R,V,Y\",\n  \"D,I,S,T,T,Y\",\n  \"E,E,G,H,N,W\",\n  \"E,E,I,N,S,U\",\n  \"E,H,R,T,V,W\",\n  \"E,I,O,S,S,T\",\n  \"E,L,R,T,T,Y\",\n  \"H,I,M,N,U,Qu\",\n  \"H,L,N,N,R,Z\"].map(_ => _.split(','))\n","import * as util from './util'\n\n// Row Major\nexport class Matrix<T> {\n  nrow: number\n  ncol: number\n  rows: T[][]\n\n  static fromArray<T>(nrow: number,  ncol: number, arr: T[]) {\n    return Matrix.tabulate(nrow, ncol, (r, c) => arr[r * ncol + c])\n  }\n\n  static tabulate<T>(nrow: number,  ncol: number, f: (r:number, c:number) => T): Matrix<T> {\n    let m = Matrix.fill(nrow, ncol, f(0, 0))\n    for (let r = 0; r < nrow; r++) {\n      for (let c = 0; c < ncol; c++) {\n        m.set(r, c, f(r, c))\n      }\n    }\n    return m\n  }\n\n  static fill<T>(nrow: number,  ncol: number, elem: T) {\n    let rows = Array.from(Array(nrow), () => new Array(ncol).fill(elem));\n    return new this(rows)\n  }\n\n  constructor(rows: T[][]) {\n    this.rows = rows\n    this.nrow = rows.length\n    this.ncol = rows[0].length\n    rows.forEach(row => {\n      if (row.length != this.ncol) {\n       throw new Error(\"Number of elements is not the same in each row!\")\n      }\n    })\n  }\n\n  forEach(f: (r:number, c:number) => void) {\n    for (let r = 0; r < this.nrow; r++) {\n      for (let c = 0; c < this.ncol; c++) {\n        f(r, c)\n      }\n    }\n  }\n\n  set(r: number, c: number, value: T) {\n    (this.rows[r])[c] = value\n  }\n\n  get(r: number, c: number) {\n    return this.rows[r][c]\n  }\n\n  indices() {\n    let out:number[][] = [];\n    for (let r=0; r < this.nrow; r++) {\n      for (let c=0; c < this.ncol; c++) {\n        out.push([r, c])\n      }\n    }\n    return out\n  }\n\n  vec(): T[] {\n    return this.rows.flat();\n  }\n\n  shuffled() {\n    let v = util.shuffle(this.vec())\n    return Matrix.fromArray(this.nrow, this.ncol, v)\n  }\n\n  shuffle() {\n    let s = this.shuffled()\n    this.forEach((r, c) => {\n      this.set(r, c, s.get(r, c))\n    })\n  }\n\n  map(f: Function): Matrix<T> {\n    return Matrix.tabulate(this.nrow, this.nrow, (r, c) => f(this.get(r, c)))\n  }\n}\n","export class Pair {\n  x: number\n  y: number\n  static possibleMoves = [\n    new Pair(0, 1),\n    new Pair(1, 0),\n    new Pair(1, 1),\n    new Pair(-1, -1),\n    new Pair(0, -1),\n    new Pair(-1, 0),\n    new Pair(-1, 1),\n    new Pair(1, -1)\n  ]\n\n  constructor(x: number, y: number) {\n    this.x = x\n    this.y = y\n  }\n\n  plus(that: Pair): Pair {\n    return new Pair(this.x + that.x, this.y + that.y)\n  }\n\n  minus(that: Pair): Pair {\n    return new Pair(this.x - that.x, this.y - that.y)\n  }\n\n  isNeighbor(that: Pair, dist: number = 1) {\n    let diff = this.minus(that)\n    return Math.abs(diff.x) <= 1 && Math.abs(diff.y) <= 1\n  }\n\n  equals(that: Pair) {\n    return (this.x == that.x) && (this.y == that.y)\n  }\n }\n","import * as util from './util'\nimport { Matrix} from './Matrix'\nimport { Pair } from './Pair'\nimport { Die, DieComp } from './Die'\n\nexport class Board {\n  dice: Die[]\n  dictionary: string[]\n  minLetters: number\n  dim: number\n  numDice: number\n  letters: Matrix<string>\n  shortDict: string[]\n\n  constructor(dice: Die[], dictionary: string[], minLetters: number=3) {\n    this.dice = dice\n    this.dictionary = dictionary\n    this.minLetters = minLetters\n    this.numDice = dice.length\n    this.dim = Math.sqrt(this.numDice)\n    this.shuffle()\n    if (!util.isSquare(this.dim)) {\n      throw new Error(`number of dice is ${this.numDice} but must be a square number!`)\n    }\n    this.shortDict = this.dictionary.filter(w => w.length >= this.minLetters)\n  }\n\n  shuffle() {\n    this.letters = Matrix.fromArray(this.dim, this.dim,\n      util.shuffle(this.dice.map(_ => _.roll())))\n  }\n\n  // Connects letters from visited `path`.\n  chain(path: Pair[]): string {\n    return path.map(pair => this.letters.get(pair.x, pair.y)).join(\"\")\n  }\n\n  visited(path: Pair[], pos: Pair): boolean {\n    // return path.includes(pos)\n    let _visited = false\n    for (const pair of path) {\n      if (pair.equals(pos)) {\n        _visited = true\n        break\n      }\n    }\n    return _visited\n  }\n\n  onBoard(pos: Pair): boolean {\n    return 0 <= pos.x && pos.x < this.dim && 0 <= pos.y && pos.y < this.dim\n  }\n\n  propose(path: Pair[], move: Pair): Pair {\n    return util.last(path).plus(move)\n  }\n\n  isValidMove(path: Pair[], move: Pair): boolean {\n    let proposal = this.propose(path, move)\n    return (!this.visited(path, proposal)) && this.onBoard(proposal)\n  }\n\n  private _solve(dict: string[], path: Pair[], solution: string[]=[]): string[] {\n    if (dict.length == 0) { return solution } else {\n      // All possible moves.\n      let possibleMoves = Pair.possibleMoves.filter(move => this.isValidMove(path, move))\n\n      // Create each possible chain of letters given current path.\n      let sols = possibleMoves.map(move => {\n        let newPath = path.concat(this.propose(path, move))\n        let head = this.chain(newPath).toUpperCase()\n        let newDict = dict.filter(word => word.startsWith(head))\n        let newSolution = newDict.includes(head) ? solution.concat(head) : solution\n        return this._solve(newDict, newPath, newSolution)\n      })\n      return Array.from(new Set(sols.flat()))\n    }\n  }\n\n  solve(): string[] {\n    let allSolutions = Matrix.tabulate(this.dim, this.dim, (r, c) => {\n      // console.log(`\\r (${r}, ${c}) / (${this.dim}, ${this.dim})`)\n      return this._solve(this.shortDict, [new Pair(r, c)])\n    }).map(_ => _.flat())\n    let out = Array.from(new Set(allSolutions.vec().flat()))\n    return out.sort().sort((a, b) => a.length - b.length) // sort by first letter then length.\n  }\n}\n","import React, { useState } from 'react'\nimport { Matrix } from './Matrix'\nimport { Board } from './Board'\nimport { DieComp } from './Die'\n\nexport function BoardComp(props: {board: Board}) {\n  let dim = props.board.dim\n  return (\n    <table style={{marginLeft:\"auto\", marginRight:\"auto\"}}>\n      <tbody>\n        {\n          props.board.letters.rows.map((row, r) => (\n            <tr key={r}>\n              {row.map((value, c) => (<th key={c}><DieComp value={value}/></th>))}\n            </tr>\n          ))\n        }\n      </tbody>\n    </table>\n  )\n}\n\nexport function SolveButton(props: {generateSolution: () => void, solution: string, isSolved: boolean,\n                            solViz: boolean}) {\n  const css = {\n    borderRadius: \"5px\",\n    backgroundColor: \"CornFlowerblue\",\n    color: \"White\",\n    border: \"none\"\n  }\n\n  return (\n    <div>\n      <button style={css} onClick={props.generateSolution}> Show / Hide Solution </button>\n      <br/><br/> \n      <p style={{display: props.solViz ? \"inline\" : \"none\"}}> {props.solution} </p>\n    </div>\n  )\n}\n","import React, {useState} from 'react'\nimport * as util from './util'\n\n// TODO: Refactor -- move states out into `App`. On boardShuffle, hide seed.\nexport function Seeder(props: {seedViz: boolean, showSeeder: () => void}) {\n\n  function reseed(e) {\n    const value = e.target.value\n    if (value == \"\") {\n      util.reseed(Math.random().toString())\n    } else {\n      util.reseed(value)\n    }\n  }\n\n  function makeHeader() {\n    if (props.seedViz) {\n      return (<input type=\"text\" onChange={reseed} autoFocus />)\n    } else {\n      return (<h1> Boggle </h1>)\n    }\n  }\n\n  return (\n    <header className=\"App-header\" onClick={props.showSeeder} >\n      { makeHeader() }\n    </header>\n  )\n}\n","import React, {useState} from 'react';\nimport logo from './logo.svg';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './App.css';\nimport { Die, dice16, DieComp } from './Die'\n// import { scrabbleDict } from './scrabble-dict'\nimport { Pair } from './Pair'\nimport { Board } from './Board'\nimport { BoardComp, SolveButton } from './BoardComp'\nimport * as util from './util'\nimport $ from 'jquery'\nimport {Seeder} from './Seeder'\nimport * as scrabbleDict from './scrabble-dict.json'\n\nfunction App() {\n  const dict = scrabbleDict.scrabbleDict\n  const dice = dice16.map(faces => new Die(faces))\n  const minLetters = 3\n\n  const [seedViz, setSeedViz] = useState(false)\n  const [board, setBoard] = useState(new Board(dice, dict, minLetters))\n  const [solution, setSolution] = useState(\"\")\n  const [numWords, setNumWords] = useState(0)\n  const [isSolved, setIsSolved] = useState(false)\n\n  const shuffleStyle = {\n    borderRadius: \"5px\",\n    border: \"none\",\n    color: \"white\", \n    background: \"CornFlowerBlue\",\n    margin: \"20px\"\n  }\n\n  let [letters, setLetters] = useState(board.letters)\n  let [solViz, setSolViz] = useState(false)\n\n  function shakeBoard() {\n    setBoard(new Board(dice, dict, minLetters))\n    setLetters(board.letters)\n    setIsSolved(false)\n    setSolViz(false)\n    setSolution(\"\")\n    setSeedViz(false)\n  }\n\n  function generateSolution() {\n    if (!isSolved) {\n      const solutionArray = board.solve()\n      setNumWords(solutionArray.length)\n      setSolution(solutionArray.join(\", \"))\n      setIsSolved(true)\n      setSolViz(true)\n    } else {\n      setSolViz(!solViz)\n    }\n  }\n\n  function showSeeder() {\n    setSeedViz(true)\n  }\n\n  return (\n    <div className=\"App\">\n      <Seeder seedViz={seedViz} showSeeder={showSeeder} />\n\n      <button onClick={shakeBoard} style={shuffleStyle}> Shuffle </button>\n\n      {/* <br/> {dieComps} <br/> */}\n      <BoardComp board={board} />\n      <br/> \n        <SolveButton generateSolution={generateSolution} solution={solution} \n          isSolved={isSolved} solViz={solViz} /> \n        <br/>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}